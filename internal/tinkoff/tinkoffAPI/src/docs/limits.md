#Лимитная политика TINKOFF INVEST API

В процессе работы торговые роботы могут генерировать огромное количество заявок. Причём особенностью именно 
алгоритмической торговли можно назвать большой процент отмен торговых поручений. Таким образом пользователи 
могут генерировать большую нагрузку на инфраструктуру брокера. По этой причине TINKOFF INVEST API 
обладает системой динамического формирования лимитов для пользователей. 

Всего существует 5 уровней доступа, которые зависят от количества выставленных заявок (любого типа) и
процента их исполнения:

| Лимитный грейд | Unary-запросов в минуту</br>[Сервиса инструментов](/investAPI/head-instruments/) | Unary-запросов в минуту</br>[Сервиса аккаунтов](/investAPI/head-users/) | Unary-запросов в минуту</br>[Сервиса операций](/investAPI/head-operations/) | Unary-запросов в минуту формирования отчётов </br>[Сервиса операций](/investAPI/head-operations/) | Unary-запросов в минуту</br>[Сервиса котировок](/investAPI/head-marketdata/) | Unary-запросов в минуту</br>[Сервиса стоп-заявок](/investAPI/head-stoporders/) | Unary-запросов в минуту</br>[Песочницы](/investAPI/head-sandbox/) | Активных stream-соединений</br>[Сервиса котировок](/investAPI/head-marketdata/) | Активных stream-соединений</br>[Сервиса торговых поручений](/investAPI/head-orders/) | Unary-запросов в минуту</br>[Сервиса торговых поручений](/investAPI/head-orders/)
| :------------- | :-------------- | :-------------- | :-------------- | :-------------- | :-------------- | :-------------- | :-------------- | :-------------- | :-------------- | :-------------- |
| 1              | 100             | 100             | 100             | 5 |100             | 10              | 100             | 2               | 1               | 100              |
| 2              | 200             | 100             | 200             | 5 | 200             | 20              | 200             | 4               | 1               | 100              |
| 3              | 200             | 100             | 200             | 5 | 300             | 30              | 200             | 5               | 1               | 100             |
| 4              | 200             | 100             | 200             | 5 | 300             | 40              | 200             | 16              | 1               | 200             |
| 5              | 200             | 100             | 200   	       | 5 | 300             | 50              | 200             | Не ограничено   | 1               | 300             |

**Важно**. В рамках одного stream-соединения [сервиса котировок](/investAPI/head-marketdata/) существует 
ограничение в **300** одновременных подписок на свечи, стаканы и ленту обезличенных сделок. Лимит считается
суммарно по всем трём типам данных. Лимитов на количество подписок в рамках одного стрима на торговые
статусы инструментов (подписка Info) **нет**. 

Изменения лимитного грейда пользователя происходит раз в сутки после окончания торгов. Для изменения
грейда берётся статистика заявок, выполненных пользователем за последние 30 дней от текущей даты. 
Т.е. чем больше пользователь выставляет торговых поручений при сохранении высокого уровня исполнения, 
тем выше его лимиты.

Расчёт тарифных грейдов происходит только для пользователей TINKOFF INVEST API,
выставлявших торговые поручения. Поэтому, если вы не используете данную
версию апи для выставления поручений, у вас будет 1 грейд. 
Для того чтобы расчёт грейда происходил, нужно выставить хотя бы одно поручение
в месяц.

| Количество исполненных поручений / </br> процент исполнения | больше 50% | больше 10% | больше 2% | меньше 2% |
| :-------------------- | :--------- | :--------- | :--------- | :--------- |
| меньше **10**         | 1          | 1          | 1          | 1          | 
| меньше **200**        | 2          | 2          | 2          | 1          | 
| меньше **1 000**      | 4          | 3          | 2          | 1          | 
| меньше **5 000**      | 5          | 4          | 3          | 1          | 
| меньше **10 000**     | 5          | 5          | 4          | 2          | 
| больше **10 000**     | 5          | 5          | 4          | 2          | 
