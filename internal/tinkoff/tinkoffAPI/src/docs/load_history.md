#Загрузка исторических котировок

TINKOFF INVEST API предоставляет своим пользователям возможность получения исторических рыночных данных по
инструментам. Для загрузки истории котировок можно воспользоваться unary-методом 
[GetCandles](#getcandles) [сервиса котировок](/investAPI/head-marketdata). 

Обратите внимание, что глубина исторических данных по одному и тому же инструменту может отличаться на 
разных интервалах свечей. Также глубина исторических данных может быть разной для разных инструментов.  
Связано это с особенностями получения исторических данных в [Тинькофф Инвестициях](https://www.tinkoff.ru/invest/).

С целью сокращения нагрузки на инфраструктуру системы в TINKOFF INVEST API имеется ограничение на 
максимальную длину запрашиваемого интервала. Ограничение зависит от интервала свечи: 

| Интервал свечи | Допустимы период      |
| :------------- | :-------------------- |
| 1 минута       | от 1 минут до 1 дня   |
| 5 минут        | от 5 минут до 1 дня   |
| 15 минут       | от 15 минут до 1 дня  |
| 1 час          | от 1 часа до 1 недели |
| 1 день         | от 1 дня до 1 года    |

Таким образом загрузку исторических данных за весь интересующий период следует организовывать порционно. 
В связи с разной глубиной истории начинать следует с конца интересующего периода и постепенно двигаться в
"прошлое" до момента получения пустых ответов. 
